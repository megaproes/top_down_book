P15. Consider the topology shown in Figure 4.20. Denote the three subnets with hosts (starting clockwise at 12:00) as Networks A, B, and C. 
Denote the subnets without hosts as Networks D, E, and F.

a. Assign network addresses to each of these six subnets, with the following constraints: 
All addresses must be allocated from 214.97.254/23; 
Subnet A should have enough addresses to support 250 interfaces; 
Subnet B should have enough addresses to support 120 interfaces; 
and Subnet C should have enough addresses to support 120 interfaces. 

Of course, subnets D, E and F should each be able to support two interfaces. 
For each subnet, the assignment should take the form a.b.c.d/x or a.b.c.d/x – e.f.g.h/y.

b. Using your answer to part (a), provide the forwarding tables (using longest prefix matching) for each of the three routers.
------------
With only 214.97.254.0/23 (512 addrs) the requirements are not feasible:
	--A needs /24 (256)
	--B needs /25 (128)
	--C needs /25 (128)
	--D,E,F need >=2 each -- even with /31s that’s 6

Total minimum = 256 + 128 + 128 + 6 = 518 > 512.
So the given /23 cannot accommodate all six subnets. Therefore part (a) has no valid assignment and part (b) cannot be instantiated.

To proceed, I’ll assume the intended pool was one size larger (/22) so we can show a correct design and the forwarding tables. 

I’ll use 214.97.252.0/22 (covers 214.97.252.0 - 214.97.255.255).

a.
(a) Subnet assignment (CIDR blocks)
	-- A (>=250 hosts) -> 214.97.254.0/24
	-- B (>=120 hosts) -> 214.97.255.0/25
	-- C (>=120 hosts) -> 214.97.255.128/25

Point-to-point links (using /31 per RFC 3021):
	-- D (R1-R3) -> 214.97.252.0/31
	-- E (R2-R3) -> 214.97.252.2/31
	-- F (R1-R2) -> 214.97.252.4/31

(If your grader forbids /31, replace each with a /30 taken from the same /22.)

Interface IPs:
	--R1-LAN A: 214.97.254.1/24
	--R3-LAN B: 214.97.255.1/25
	--R2-LAN C: 214.97.255.129/25
	--D (R1-R3): R1=214.97.252.0, R3=214.97.252.1 (/31)
	--E (R2-R3): R2=214.97.252.2, R3=214.97.252.3 (/31)
	--F (R1-R2): R1=214.97.252.4, R2=214.97.252.5 (/31)

b. 
R1:
| Prefix                    | Out If    | Next hop         |
| ------------------------- | --------- | ---------------- |
| 214.97.254.0/24 (A)	   | A-LAN     | on-link          |
| 214.97.252.0/31 (D)	   | to-R3 (D) | on-link          |
| 214.97.252.4/31 (F)	   | to-R2 (F) | on-link          |
| 214.97.255.0/25 (B)	   | to-R3 (D) | 214.97.252.1     |
| 214.97.255.128/25 (C) 	   | to-R2 (F) | 214.97.252.5     |
| 214.97.252.2/31 (E)   	   | to-R3 (D) | 214.97.252.1     |

R2:
| Prefix                    | Out If    | Next hop         |
| ------------------------- | --------- | ---------------- |
| 214.97.255.128/25 (C)     | C-LAN     | on-link          |
| 214.97.252.2/31 (E)       | to-R3 (E) | on-link          |
| 214.97.252.4/31 (F)       | to-R1 (F) | on-link          |
| 214.97.254.0/24 (A)       | to-R1 (F) | 214.97.252.4	    |
| 214.97.255.0/25 (B)       | to-R3 (E) | 214.97.252.3	    |
| 214.97.252.0/31 (D)       | to-R3 (E) | 214.97.252.3	    |

R3:
| Prefix                    | Out If    | Next hop         |
| ------------------------- | --------- | ---------------- |
| 214.97.255.0/25 (B)	   | B-LAN     | on-link          |
| 214.97.252.0/31 (D)	   | to-R1 (D) | on-link          |
| 214.97.252.2/31 (E)	   | to-R2 (E) | on-link          |
| 214.97.254.0/24 (A)	   | to-R1 (D) | 214.97.252.0 |
| 214.97.255.128/25 (C)     | to-R2 (E) | 214.97.252.2 |
| 214.97.252.4/31 (F)       | to-R1 (D) | 214.97.252.0 |
