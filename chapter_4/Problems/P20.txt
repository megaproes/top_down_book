P20. In this problem, we’ll explore the impact of NATs on P2P applications.

Suppose a peer with username Arnold discovers through querying that a peer with username Bernard has a file it wants to download. 

Also suppose that Bernard and Arnold are both behind a NAT. 

Try to devise a technique that will allow Arnold to establish a TCP connection with Bernard without application-specific NAT configuration. 

If you have difficulty devising such a technique, discuss why.
-------------

It’s generally not possible for Arnold to establish a direct TCP connection to Bernard if both are behind NATs without prior configuration. 

NATs only allow inbound traffic if there is an existing mapping, which is created when an internal host initiates an outbound connection. 

Since Bernard hasn’t initiated anything yet, his NAT has no mapping for the destination port, so it will drop Arnold’s SYN. 

That’s why TCP P2P connections through NATs usually require application-specific support, such as port forwarding, UPnP, or a relay server. 

Without these, a direct connection cannot be established.